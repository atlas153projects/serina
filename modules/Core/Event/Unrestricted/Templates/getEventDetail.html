{% extends 'Unrestricted.html' %}

{% block head %}
<title>{{ collection[0].getName() }}</title>
<meta name='description' content="{{ collection[0].getName() }}" />
<link href='/theme/mumc/css/event.css' rel="stylesheet" media="all" />
<script src="/jquery/jquery-2.0.3.min.js" type="text/javascript"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAfuFD28VOdTEGDuASvI27nAZEKomFys38&libraries=geometry&sensor=true" type="text/javascript"></script>
<script src="/event/js/cartographer.js" type="text/javascript"></script>
<script type="text/javascript">
	$(function() {
		$('#event-map').cartographer({
			bounds: {{ collection[0].getWaypoints().getAllBounds().jsonEncode() | raw }},
			polyfills: {{ collection[0].getWaypoints().getAllEncodedPolyfills().jsonEncode() | raw }}
		});
	});
</script>
{% endblock %}

{% block content %}
<h1>{{ collection[0].getName() }}</h1>
<ul>
	<li>Starts: {{ collection[0].getStartDateTime() }}</li>
	<li>Ends: {{ collection[0].getEndDateTime() }}</li>
</ul>

<div class="grid2">
	<section>
		<article>
			<div class="event-brief">
				{{ collection[0].getBrief() | raw }}
			</div>

			{{ collection[0].getDescription() | raw }}
		</article>
	</section>
	<section>
		<div id="event-map"></div>
	</section>
</div>

<div style="width:100%;height:0px;clear:both;"></div>

<ul>
	{% for currentAttendee in collection[0].getAttendees() %}
	<li>{{ currentAttendee.lastname }}, {{ currentAttendee.firstname }}</li>
	{% endfor %}
</ul>

<ul>
	{% for currentLeader in collection[0].getLeaders() %}
	<li>{{ currentLeader.lastname }}, {{ currentLeader.firstname }}</li>
	{% endfor %}
</ul>

{% endblock %}